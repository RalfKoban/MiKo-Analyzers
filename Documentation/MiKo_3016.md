# MiKo_3016: Do not throw `ArgumentNullException` for property return values

## Cause

An `ArgumentNullException` is thrown when a property of a parameter returns null.

## Rule description

`ArgumentNullException`s should not be thrown for values of properties returned by parameters.

- If there's an issue with the parameter, throw an `ArgumentException`.
- If the problem is not with the parameter itself, throw an `InvalidOperationException` instead.

This approach ensures that the exception thrown accurately reflects the nature of the issue, making the code more robust and understandable.

### Rationale behind

`ArgumentNullException` is designed to indicate that a parameter itself is null.
When a parameter's property is null, the parameter is not null, so `ArgumentNullException` misrepresents the actual problem.

Throwing [the correct exception type](https://learn.microsoft.com/en-us/dotnet/standard/design-guidelines/using-standard-exception-types) provides several important benefits:

- **Accurate Error Reporting**:
  The exception type should match the actual problem.
  When a property is null, the parameter itself is valid, so `ArgumentNullException` is misleading.

- **Better Debugging**:
  Developers seeing `ArgumentNullException` expect the parameter to be null.
  When the parameter is not null, this creates confusion during debugging.

- **Clearer Error Messages**:
  `ArgumentException` or `InvalidOperationException` can include messages that explain the property is null.
  This provides more accurate diagnostic information.

- **Proper Error Handling**:
  Catch blocks designed for `ArgumentNullException` expect null parameters.
  Using it for property validation can trigger inappropriate error handling.

- **Consistent Exception Usage**:
  Following the semantic meaning of exception types creates a consistent codebase.
  This makes the code more predictable and easier to maintain.

## How to fix violations

To fix a violation of this rule, use `ArgumentException` if the issue is with the parameter's state, or `InvalidOperationException` if the problem is not parameter-related.

## How to suppress violations

```csharp
#pragma warning disable MiKo_3016
#pragma warning restore MiKo_3016
```
