# MiKo_5014: Do not create empty lists when return value is read-only

## Cause

An empty list is created and returned where the caller does not modify the list.

## Rule description

Avoid creating empty lists manually to prevent unnecessary memory consumption and garbage collector pressure.
Use `Array.Empty<T>()` or `[]` instead.
This approach is more efficient.

### Rationale behind

When a method returns a read-only collection, creating a new empty `List<T>` instance allocates memory for the list object and its internal array.
If the caller only reads from the collection and never modifies it, this allocation is wasteful.
Each call to the method creates a new list object that becomes garbage immediately after use.

Returning an empty array instead provides the same functionality for read-only scenarios while using a shared instance.

Using `Array.Empty<T>()` or `[]` for read-only empty collections provides important benefits:

- **No Repeated Allocations**:
  `Array.Empty<T>()` returns a cached singleton instance that all callers can share.
  Creating a `new List<T>()` allocates a new object every time.

- **Reduced Garbage Collection Pressure**:
  Fewer allocated objects mean less work for the garbage collector.
  Methods that are called frequently can create significant garbage when they allocate empty lists.

- **Lower Memory Usage**:
  A `List<T>` object contains overhead beyond just the array.
  It has fields for count, capacity, and version tracking.
  An empty array has no such overhead.

- **Better Performance**:
  Allocating and initializing a `List<T>` is more expensive than returning a cached empty array.

- **Clear Intent**:
  Returning an array signals that the collection is read-only.
  Returning a `List<T>` suggests the caller might be expected to modify it.

## How to fix violations

To fix a violation of this rule, return `Array.Empty<T>()` or `[]` instead of creating an empty list.

## How to suppress violations

```csharp
#pragma warning disable MiKo_5014
#pragma warning restore MiKo_5014
```
