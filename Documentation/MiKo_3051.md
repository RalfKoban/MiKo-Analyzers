# MiKo_3051: Register `DependencyProperty` fields properly

## Cause

A `DependencyProperty` field is not registered correctly using `DependencyProperty.Register()` and the `nameof` operator.

## Rule description

To avoid typos, register fields backing a `DependencyProperty` using `DependencyProperty.Register()` and the `nameof` operator.
Ensure the correct property names, property types, and owning types are provided.

### Rationale behind

Dependency property registration connects the dependency property field with its metadata and the property system.
Incorrect registration causes the property to malfunction or fail to work at all, often in subtle ways.

Properly registering dependency properties provides several important benefits:

- **Compile-Time Safety**:
  Using `nameof` for property names ensures the compiler verifies that properties exist.
  String literals can contain typos or reference non-existent properties, causing runtime failures.

- **Refactoring Support**:
  When properties are renamed, `nameof` expressions are automatically updated.
  String literals in registration calls must be manually found and updated.

- **Type Safety**:
  Specifying the correct property type ensures the property system validates values properly.
  Incorrect types can cause cast exceptions or allow invalid values to be set.

- **Owner Validation**:
  Specifying the correct owning type ensures the property is registered in the right location.
  Incorrect owner types can cause property lookup failures in derived classes.

- **Metadata Correctness**:
  Proper registration establishes default values, change callbacks, and coercion behavior.
  Registration errors can cause properties to behave unpredictably.

- **Framework Integration**:
  Correctly registered properties integrate seamlessly with data binding, styling, and animation.
  Registration mistakes can cause these features to fail silently.

## How to fix violations

To fix a violation of this rule, ensure the registration call uses the correct parameters.
Use `nameof` for the property name, specify the correct property type using `typeof`, and provide the correct owning type.
Verify that the registered name matches the CLR property wrapper name.

## How to suppress violations

```csharp
#pragma warning disable MiKo_3051
#pragma warning restore MiKo_3051
```

## Additional information
For more information, see [How to implement a dependency property](https://learn.microsoft.com/en-us/dotnet/desktop/wpf/properties/how-to-implement-a-dependency-property).