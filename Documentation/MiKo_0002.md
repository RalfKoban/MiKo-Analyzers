# MiKo_0002: Simplify complex methods

## Cause

A method has a cyclomatic complexity that is too high.

## Rule description

To make maintenance easier, methods should be kept simple.
When a method becomes too complex, it often indicates that it has too many decision points and is violating the Keep It Simple, Stupid (KISS) principle.

Complex methods are harder to understand, test, and maintain, making the codebase more difficult to work with.

### Rationale behind

Cyclomatic complexity measures the number of independent paths through a method's code.
High complexity indicates that a method has many decision points, making it difficult to understand and maintain.

The following code constructs each increase the cyclomatic complexity by 1:
- `if`
- `while`
- `for`
- `foreach`
- `case`
- `continue`
- `goto`
- `&&`
- `||`
- `catch`
- `catch when`
- ternary operator `?:`
- `??`
- `?.`

Keeping methods simple provides several important benefits:

- **Improved Readability**:
  Simple methods are easier to read and understand at a glance.
  When a method contains fewer decision points, developers can quickly grasp what the code does without having to trace through multiple execution paths.
  This saves time during code reviews and when working on unfamiliar parts of the codebase.

- **Easier Testing**:
  Methods with lower complexity require fewer test cases to achieve full code coverage.
  Each independent path through the code needs its own test case.
  A method with 10 decision points might require dozens of tests to cover all possible combinations, while simpler methods need only a few tests.
  This makes the test suite more manageable and easier to maintain.

- **Reduced Bug Likelihood**:
  Complex methods with many branching paths create more opportunities for logical errors.
  When conditions are nested deeply or combined in intricate ways, it becomes harder to verify that all scenarios are handled correctly.
  Simpler methods have fewer places where bugs can hide.

- **Better Maintainability**:
  When changes are needed, simple methods are safer to modify.
  Developers can make changes with confidence, knowing that the limited number of execution paths makes it easier to predict the impact of modifications.
  Complex methods, on the other hand, often lead to unintended side effects when modified.

- **Enhanced Reusability**:
  Small, focused methods with clear purposes can often be reused in other contexts.
  Complex methods tend to be too specific to their current use case, making them harder to reuse elsewhere in the codebase.

## How to fix violations

To fix a violation of this rule, refactor the method to reduce its complexity.
You can do this by:

- Extracting conditions into separate methods with meaningful names
- Breaking down complex conditional logic into simpler pieces
- Replacing nested conditions with early returns (guard clauses)
- Using polymorphism instead of switch statements where appropriate
- Simplifying boolean expressions

## How to suppress violations

```csharp
#pragma warning disable MiKo_0002
#pragma warning restore MiKo_0002
```
