# MiKo_3070: Do not return null for IEnumerable

## Cause

A method returning `IEnumerable` returns `null`.

## Rule description

Methods returning `IEnumerable` are meant for foreach loops or LINQ queries.
These methods should never return `null`, as it could lead to `NullReferenceException` or `ArgumentNullException`.
Ensuring they do not return `null` keeps the code predictable and safe from unexpected runtime errors.

### Rationale behind

Returning `null` from methods that return `IEnumerable` violates the expectations that callers have when working with collections.
When developers use methods returning `IEnumerable`, they expect to be able to iterate over the result or apply LINQ operations without checking for `null` first.

Avoiding `null` returns for `IEnumerable` provides several important benefits:

- **Prevents Runtime Errors**:
  Returning `null` leads to `NullReferenceException` when callers attempt to iterate over the collection or use LINQ methods.
  This creates unpredictable behavior and crashes that could have been avoided.

- **Simplifies Caller Code**:
  When methods never return `null`, callers do not need to add defensive `null` checks before using the result.
  This reduces code complexity and makes the code easier to read and maintain.

- **Follows Established Conventions**:
  The .NET framework and community conventions establish that collection-returning methods should return empty collections instead of `null`.
  Following this pattern makes the code more predictable for other developers.

- **Enables Safe LINQ Operations**:
  LINQ methods expect non-null sequences.
  Returning empty collections allows callers to chain LINQ operations without worrying about `null` reference exceptions.

- **Improves Code Readability**:
  Code becomes clearer when there is no need to distinguish between "no results" and "`null`".
  An empty collection clearly communicates that there are no items.

- **Reduces Bug Surface Area**:
  Eliminating `null` returns removes an entire class of potential bugs related to `null` handling.
  This makes the codebase more robust and reliable.

## How to fix violations

To fix a violation of this rule, return an empty collection instead of `null`.
Use `Enumerable.Empty<T>()`, `Array.Empty<T>()`, or create an empty array or list as appropriate for the specific scenario.

## How to suppress violations

```csharp
#pragma warning disable MiKo_3070
#pragma warning restore MiKo_3070
```
