# MiKo_3023: Do not use `CancellationTokenSource` as parameter

## Cause

A method has a `CancellationTokenSource` parameter instead of a `CancellationToken` parameter.

## Rule description

Avoid passing around a `CancellationTokenSource`.
Instead, pass the `CancellationToken` to propagate notifications for canceling operations.
This approach keeps the code cleaner and maintains proper encapsulation, ensuring more manageable and readable code.

### Rationale behind

`CancellationTokenSource` provides control over cancellation, including the ability to trigger it.
Passing it as a parameter gives too much control to methods that should only observe cancellation, not initiate it.

Using `CancellationToken` instead of `CancellationTokenSource` provides several important benefits:

- **Better Encapsulation**:
  Methods receiving a `CancellationToken` can only observe cancellation.
  `CancellationTokenSource` allows canceling operations, which violates separation of concerns.

- **Clearer Responsibilities**:
  Code that creates the `CancellationTokenSource` owns the cancellation decision.
  Code that receives a token simply responds to cancellation requests.

- **Prevents Misuse**:
  When methods receive `CancellationTokenSource`, they can inappropriately trigger cancellation.
  `CancellationToken` prevents this by providing a read-only view.

- **Consistent API Design**:
  .NET Framework methods consistently use `CancellationToken` parameters.
  Following this pattern makes APIs familiar and predictable.

- **Reduced Coupling**:
  `CancellationToken` is a lightweight value type.
  `CancellationTokenSource` is a disposable reference type that creates unnecessary dependencies.

## How to fix violations

To fix a violation of this rule, change the parameter type from `CancellationTokenSource` to `CancellationToken` and pass the token using the `Token` property.

## How to suppress violations

```csharp
#pragma warning disable MiKo_3023
#pragma warning restore MiKo_3023
```
