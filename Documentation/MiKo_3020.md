# MiKo_3020: Use `Task.CompletedTask` instead of `Task.FromResult`

## Cause

Code uses `Task.FromResult()` to return a completed task instead of using `Task.CompletedTask`.

## Rule description

For better performance, use `Task.CompletedTask` instead of `Task.FromResult()`, as the returned task is internally cached.
This helps improve efficiency in the code.

### Rationale behind

`Task.FromResult` allocates a new Task object each time it is called, even when no meaningful result needs to be returned.
`Task.CompletedTask` provides a cached, reusable task instance that represents successful completion.

Using `Task.CompletedTask` instead of `Task.FromResult` provides several important benefits:

- **Better Performance**:
  `Task.CompletedTask` uses a singleton cached instance.
  This eliminates unnecessary allocations and reduces garbage collection pressure.

- **Reduced Memory Usage**:
  Reusing a single task instance instead of creating new ones saves memory.
  In high-throughput scenarios, this can make a significant difference.

- **Clearer Intent**:
  `Task.CompletedTask` explicitly communicates that the task represents completion without a result.
  This makes the code's purpose more obvious.

- **Improved Code Efficiency**:
  Avoiding allocations improves overall application performance.
  This is especially important in async methods that are called frequently.

- **Better Best Practices**:
  Using `Task.CompletedTask` aligns with modern .NET coding standards.
  It demonstrates awareness of performance considerations.

## How to fix violations

To fix a violation of this rule, replace `Task.FromResult()` with `Task.CompletedTask` when returning a completed task without a result.

## How to suppress violations

```csharp
#pragma warning disable MiKo_3020
#pragma warning restore MiKo_3020
```
