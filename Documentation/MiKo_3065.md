# MiKo_3065: Do not use interpolated strings with Microsoft Logging calls

## Cause

A Microsoft Logging call uses an interpolated string instead of a message template.

## Rule description

The Microsoft Logging API supports Semantic or Structured Logging via message templates, which include named placeholders for arguments.
These templates look like interpolated strings but without the `$` and with added arguments, which can be confusing.

The arguments are passed to the logging system, not just the formatted message.
This allows logging providers to store parameter values as fields for filtering.

Using interpolated strings instead of message templates prevents this filtering and contradicts the Semantic or Structured Logging approach.

### Rationale behind

Structured logging is a modern approach that treats log messages as data rather than plain text.
Interpolated strings defeat this approach by baking values into the message string before the logging framework can extract them.

Using message templates instead of interpolated strings provides several important benefits:

- **Structured Data Capture**:
  Message templates allow logging providers to capture parameter values as separate fields.
  Interpolated strings merge everything into a single text string, losing the structure.

- **Better Filtering**:
  Structured logging enables filtering on specific parameter values across all log entries.
  Text-based logs can only be searched with string matching, which is less precise.

- **Query Capabilities**:
  Log aggregation systems can query structured data using field-based queries.
  Interpolated strings produce unstructured text that requires regular expressions to parse.

- **Performance**:
  Message templates are only formatted when the log level is enabled.
  Interpolated strings are evaluated regardless of whether the log will be written.

- **Storage Efficiency**:
  Structured logs can store templates and parameters separately, reducing storage requirements.
  Interpolated strings create unique text for each log entry, even when patterns are similar.

- **Analysis Tools**:
  Log analysis tools can group and aggregate similar messages when using templates.
  Interpolated strings create unique messages that cannot be easily grouped.

## How to fix violations

To fix a violation of this rule, replace interpolated strings with message templates.
Change `_logger.LogInformation($"User {userId} logged in")` to `_logger.LogInformation("User {UserId} logged in", userId)`.
Pass parameter values as separate arguments after the template string.

## How to suppress violations

```csharp
#pragma warning disable MiKo_3065
#pragma warning restore MiKo_3065
```
