# MiKo_4102: Place test cleanup methods after test initialization methods and before test methods

## Cause

Test cleanup methods are not placed after test initialization methods and before test methods.

## Rule description

Test cleanup methods define common tasks to be executed after any test finishes.
To make them easy to find, place them directly after any test initialization method and before all test methods.

### Rationale behind

Test cleanup methods mirror test initialization methods by tearing down what was set up, and they must execute after each test completes.

Placing cleanup methods immediately after initialization methods creates a visual pairing that makes the setup-teardown relationship clear and ensures cleanup logic is not overlooked.

Placing test cleanup methods after initialization methods and before test methods provides several important benefits:

- **Clear Setup-Teardown Pairing**:
  When initialization and cleanup methods are adjacent, their relationship is immediately obvious.
  Developers can quickly verify that cleanup properly undoes what initialization sets up.

- **Easier Resource Management Verification**:
  Having setup and teardown logic side-by-side makes it simple to check that all resources acquired during initialization are properly released during cleanup.
  This helps prevent resource leaks in tests.

- **Better Test Understanding**:
  The organization reflects the test lifecycle: setup, execute, cleanup.
  Reading from top to bottom naturally explains what happens before, during, and after each test.

- **Improved Maintainability**:
  When adding new resources to test initialization, having cleanup code right below makes it easier to update both consistently.
  Developers are less likely to forget to add corresponding cleanup.

- **Reduced Risk of Side Effects**:
  Prominent placement of cleanup methods ensures they are not forgotten or overlooked.
  This reduces the risk of tests affecting each other through improperly cleaned state.

- **Consistent Test Structure**:
  A predictable pattern across all test classes makes the entire test suite easier to navigate and maintain.
  Developers know exactly where to look for cleanup logic.

## How to fix violations

To fix a violation of this rule, move the test cleanup methods so they appear directly after any test initialization methods.

Ensure they are positioned before all actual test methods to maintain the setup-cleanup-test order.

## How to suppress violations

```csharp
#pragma warning disable MiKo_4102
#pragma warning restore MiKo_4102
```
