# MiKo_3110: Do not use `Count` or `Length` in assertions

## Cause

A test method uses `Count` or `Length` properties within assertions to verify collection size.

## Rule description

Assertions using `Assert.That(...)` with `Count` or `Length` check for exact values.
When such a test fails, the error message is not very helpful (e.g., `5` expected but `3` received).

This means the failure needs to be inspected closely.
Debugging might even be necessary, which is frustrating, especially if the test is unreliable.

In contrast, tests should state exactly what was expected and found (e.g., `Expected items A, B, and C but found B and D`).
This approach makes failures much easier to understand and fix.

### Rationale behind

Collection assertions should verify the actual contents of collections, not just their size.
Checking only the count or length provides minimal information when tests fail and can miss important bugs.

This rule provides several important benefits:

- **More Informative Failures**:
  Content-based assertions show exactly which items were expected versus which were found.
  Count-based assertions only reveal that the numbers do not match, hiding what actually went wrong.

- **Catches More Bugs**:
  A collection might have the correct count but contain wrong items.
  Content assertions catch these bugs, while count assertions miss them completely.

- **Faster Debugging**:
  Seeing the actual collection contents in failure messages eliminates the need to debug tests.
  Developers can immediately see what items are missing, extra, or incorrect.

- **Better Test Precision**:
  Content assertions verify that collections contain exactly the right items in the right order.
  Count assertions provide only a superficial check that can give false confidence.

- **Improved Test Quality**:
  Tests that verify actual content are more thorough and reliable.
  They catch a wider range of potential bugs than simple count checks.

- **Clearer Error Messages**:
  Framework-provided collection assertions generate detailed, readable failure messages.
  Count comparisons produce generic numeric mismatches that require additional investigation.

## How to fix violations

To fix a violation of this rule, use collection-specific assertions like `Is.EquivalentTo()`, `Is.EqualTo()`, or `Has.Member()` instead of comparing `Count` or `Length` properties.

## How to suppress violations

```csharp
#pragma warning disable MiKo_3110
#pragma warning restore MiKo_3110
```
