# MiKo_3043: Use `nameof` for WeakEventManager event (de-)registrations

## Cause

Event registration with `WeakEventManager` uses a string literal instead of the `nameof` operator.

## Rule description

Use the `nameof` operator for event names registered on the `WeakEventManager` instead of strings.
This prevents typos, ensures valid names, and makes rename refactoring much easier, as `nameof` ensures property names are automatically updated during renames, unlike strings.

### Rationale behind

The WeakEventManager pattern is used in WPF to prevent memory leaks from event handlers.
However, event registration requires specifying event names, and using string literals creates the same problems as with property names.

Using `nameof` with WeakEventManager provides several important benefits:

- **Compile-Time Verification**:
  The compiler verifies that the event exists on the specified type.
  String literals can reference non-existent events, causing runtime failures that are hard to diagnose.

- **Refactoring Safety**:
  When events are renamed using refactoring tools, `nameof` expressions are automatically updated.
  String literals remain unchanged, breaking event registration silently.

- **IntelliSense Support**:
  The `nameof` operator works with IntelliSense, providing autocomplete for event names.
  String literals offer no IDE assistance, requiring developers to remember exact names.

- **Early Error Detection**:
  Invalid event names are caught at compile time rather than runtime.
  Runtime errors in WeakEventManager registration can be difficult to reproduce and debug.

- **Better Code Navigation**:
  Developers can use "Go to Definition" on `nameof` expressions to navigate to events.
  String literals do not support navigation, making code exploration harder.

- **Reduced Maintenance**:
  Code using `nameof` requires less manual maintenance when events are renamed.
  This saves time and reduces the risk of overlooking registration calls during refactoring.

## How to fix violations

To fix a violation of this rule, replace string literals with the `nameof` operator.
Change `WeakEventManager.AddHandler(source, "EventName", handler)` to `WeakEventManager.AddHandler(source, nameof(source.EventName), handler)`.

## How to suppress violations

```csharp
#pragma warning disable MiKo_3043
#pragma warning restore MiKo_3043
```
