# MiKo_3024: Do not use `[ref]` keyword on reference parameters

## Cause

A method parameter of a reference type uses the `[ref]` keyword.

## Rule description

The `[ref]` keyword allows changing the storage location of a variable, enabling re-assignment of values and altering the variable.
For reference types, this means the object reference is changed.
Consequently, all subsequent access to the variable gets the updated reference, similar to using an `[out]` parameter.

Generally, this behavior is not desirable.
The object reference should remain the same, with only the object itself being altered.

### Rationale behind

Using ref with reference types creates confusing and error-prone code.
Most developers expect parameters to maintain their reference, with only the object's state being modified.

Avoiding ref with reference types provides several important benefits:

- **Reduced Confusion**:
  Reference type parameters are already passed by reference to the object.
  Adding ref changes the reference itself, which is rarely the intended behavior.

- **Clearer Intent**:
  When ref is absent, it is clear that the method modifies the object's state, not the reference.
  This makes the code easier to understand.

- **Prevents Subtle Bugs**:
  Changing the reference inside a method can create unexpected behavior for callers.
  They might continue using the original reference, unaware it has been replaced.

- **Better Code Readability**:
  Methods that modify object state without changing references are easier to reason about.
  The object identity remains consistent throughout the method call.

- **Consistent Patterns**:
  Most .NET code modifies object state without using ref.
  Following this pattern keeps the codebase consistent with framework conventions.

## How to fix violations

To fix a violation of this rule, remove the `[ref]` keyword from the reference type parameter and modify the object's state directly.

## How to suppress violations

```csharp
#pragma warning disable MiKo_3024
#pragma warning restore MiKo_3024
```
