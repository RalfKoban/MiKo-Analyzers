# MiKo_3121: Test concrete implementations instead of interfaces

## Cause

A test method declares the object under test using an interface type instead of the concrete implementation type.

## Rule description

For easier development and direct code access, use a concrete type for the object under test, not an interface.
Otherwise, developers end up at the interface and have to find the actual implementation.

### Rationale behind

When testing code, developers need to easily navigate between the test and the implementation being tested.
Using interface types for the object under test creates an unnecessary indirection that complicates navigation and understanding.

This rule provides several important benefits:

- **Easier Code Navigation**:
  Using the concrete type allows developers to jump directly to the implementation with IDE navigation features.
  Interface types require additional steps to find which concrete class is actually being tested.

- **Better Code Understanding**:
  Seeing the concrete type immediately shows which specific implementation is under test.
  Interface types hide this information and require reading the test setup to determine the actual class.

- **Improved Debugging**:
  When debugging tests, seeing concrete types in the debugger is more helpful than seeing interface types.
  The actual type information is immediately visible without inspecting objects.

- **Clearer Test Intent**:
  Tests verify specific implementations, not abstract interfaces.
  Using concrete types makes this explicit and aligns the test code with its actual purpose.

- **Reduced Cognitive Load**:
  Developers do not need to mentally track which concrete implementation is being used.
  The type declaration itself provides this information directly.

- **Better IDE Support**:
  Many IDE features like refactoring, find usages, and quick actions work better with concrete types.
  Interface types can make these features less precise or harder to use.

## How to fix violations

To fix a violation of this rule, change the variable declaration for the object under test from the interface type to the concrete implementation type.

## How to suppress violations

```csharp
#pragma warning disable MiKo_3121
#pragma warning restore MiKo_3121
```
