# MiKo_4104: Place one-time test cleanup methods directly after one-time test initialization methods

## Cause

One-time test cleanup methods are not placed directly after one-time test initialization methods.

## Rule description

One-time test cleanup methods handle the common tasks that must be executed after all tests are done to clean up the test environment.
To make them easy to find, place them directly after the one-time test initialization methods.

### Rationale behind

One-time test cleanup methods mirror one-time initialization methods by tearing down the shared test environment that was established before any tests ran.

Placing these methods adjacent creates a clear pairing that makes the relationship between environment setup and teardown obvious and ensures cleanup is not overlooked.

Placing one-time test cleanup methods directly after one-time initialization methods provides several important benefits:

- **Clear Setup-Teardown Pairing**:
  When one-time initialization and cleanup are adjacent, their relationship is immediately apparent.
  Developers can quickly verify that cleanup properly tears down what initialization set up.

- **Easier Resource Management Verification**:
  Having both methods side-by-side makes it simple to check that all resources acquired during one-time setup are properly released during one-time cleanup.
  This helps prevent resource leaks that could affect the entire test run.

- **Better Test Environment Understanding**:
  The pairing clearly shows the lifecycle of the shared test environment: what is created at the start and what is destroyed at the end.
  This makes the test class architecture easier to understand.

- **Improved Maintainability**:
  When modifying the test environment setup, having cleanup code right below makes it easier to update both consistently.
  Developers are less likely to forget to add corresponding cleanup for new resources.

- **Reduced Risk of Side Effects**:
  Prominent placement of one-time cleanup ensures it is not forgotten.
  This reduces the risk of tests leaving behind state that could affect other test classes or subsequent test runs.

- **Consistent Test Structure**:
  A predictable pattern where one-time methods are paired together makes all test classes easier to navigate.
  Developers know exactly where to look for environment cleanup logic.

## How to fix violations

To fix a violation of this rule, move the one-time test cleanup methods so they appear directly after the one-time test initialization methods.

Keep these paired methods together at the beginning of the test class, before test initialization and test methods.

## How to suppress violations

```csharp
#pragma warning disable MiKo_4104
#pragma warning restore MiKo_4104
```
