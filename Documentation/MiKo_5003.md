# MiKo_5003: Use appropriate Log methods for exceptions

## Cause

An exception is logged by converting it to a string instead of passing it as an exception parameter to the logging method.

## Rule description

When logging exceptions, use Log methods that accept an exception parameter (like `Debug`, `Info`, `Warn`, etc.).
This allows the Log framework to capture not just the exception name but also additional details like the stack trace, keeping the logs detailed and informative.

### Rationale behind

Logging frameworks are designed to handle exceptions as first-class objects.
When an exception is passed as a parameter, the framework can extract all relevant information and format it appropriately for the logging output.
Converting the exception to a string manually loses important diagnostic information.

Using the correct logging methods for exceptions provides important benefits:

- **Complete Stack Traces**:
  When an exception object is passed to the logging framework, the full stack trace is captured.
  Converting the exception to a string with `ToString()` may truncate the stack trace or format it poorly.

- **Structured Logging**:
  Modern logging frameworks can extract exception properties like message, type, inner exceptions, and custom data.
  This structured information can be indexed and searched in log aggregation systems.
  String conversion loses this structure.

- **Inner Exceptions Captured**:
  Exceptions often contain inner exceptions that provide the root cause of a problem.
  The logging framework can recursively log all inner exceptions when given the exception object.
  Manual string conversion may miss inner exceptions.

- **Better Diagnostic Tools**:
  Log viewers and analysis tools can highlight and filter exceptions when they are logged properly.
  When exceptions are logged as plain strings, these tools cannot distinguish them from regular log messages.

- **Consistent Formatting**:
  The logging framework applies consistent formatting to all exceptions.
  Manual conversion may result in inconsistent log entries that are harder to read and analyze.

## How to fix violations

To fix a violation of this rule, pass the exception object as a parameter to the logging method instead of converting it to a string.

## How to suppress violations

```csharp
#pragma warning disable MiKo_5003
#pragma warning restore MiKo_5003
```
